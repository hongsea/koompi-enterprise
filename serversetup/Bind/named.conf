// vim:set ts=4 sw=4 et:

options {
    directory "/var/named";
    pid-file "/run/named/named.pid";

    // Uncomment these to enable IPv6 connections support
    // IPv4 will still work:
    //  listen-on-v6 { any; };
    // Add this for no IPv4:
    //  listen-on { none; };

    auth-nxdomain yes;
    datasize default;
    empty-zones-enable no;
    tkey-gssapi-keytab "/var/lib/samba/private/dns.keytab";
    forwarders { 192.168.1.139; };

    //  Add any subnets or hosts you want to allow to use this DNS server (use "; " delimiter)
    allow-query     { 192.168.1.0/24; 127.0.0.0/8; };

    //  Add any subnets or hosts you want to allow to use recursive queries
    allow-recursion { 192.168.1.0/24; 127.0.0.0/8; };

    //  Add any subnets or hosts you want to allow dynamic updates from
    allow-update    { 192.168.1.0/24; 127.0.0.0/8; };

        allow-transfer { none; };
        version none;
        hostname none;
        server-id none;
    };

#    zone "koompi.local" IN {  
#	type master;  
#	file "koompi.local.zone";  
#	allow-update { none; };  
#	};  
  
#	zone "1.168.192.in-addr.arpa" IN {  
#	type master;  
#	file "192.db";  
#	allow-update { none; };  
#	  };

    zone "localhost" IN {
        type master;
        file "localhost.zone";
    };

    zone "0.0.127.in-addr.arpa" IN {
        type master;
        file "127.0.0.zone";
    };

    zone "1.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.ip6.arpa" {
        type master;
        file "localhost.ip6.zone";
    };

    zone "255.in-addr.arpa" IN {
        type master;
        file "empty.zone";
    };

    zone "0.in-addr.arpa" IN {
        type master;
        file "empty0.zone";
    };

    zone "." IN {
        type hint;
        file "root.hint";
    };

    //zone "example.org" IN {
    //    type slave;
    //    file "example.zone";
    //    masters {
    //        192.168.1.100;
    //    };
    //    allow-query { any; };
    //    allow-transfer { any; };
    //};

    //Load AD integrated zones
    dlz "AD DNS Zones" {
    database "dlopen /usr/lib/samba/bind9/dlz_bind9_10.so";
    };

    logging {
        channel xfer-log {
            file "/var/log/named.log";
                print-category yes;
                print-severity yes;
                severity info;
            };
            category xfer-in { xfer-log; };
            category xfer-out { xfer-log; };
            category notify { xfer-log; };
};